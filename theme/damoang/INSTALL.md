# 다모앙 테마 설치하기

> [!NOTE]
> 서버 설치를 제외한 그누보드+나리야 설치 후 다모앙 테마 적용 방법입니다.  
> 미리 웹서버와 DB서버가 설정되어 있고 브라우저에서 접근 가능해야 합니다.

## 핵심 내용
- <a href="#테스터">테스터</a>  
- [개발자](#개발자)  
- [문제해결](#문제해결)  

## 테스터
### 1. 그누보드 다운로드
- 베타 버전이 아닌 안정 버전인 5.5.16 다운로드 (예:gnuboard5.5.16.tar.gz)
- [https://sir.kr/g5_pds/7170](https://sir.kr/g5_pds/7170)

### 2. 압축 해제
- 웹서버에서 지정된 루트 폴더에 다운받은(예:gnuboard5.5.16.tar.gz) 파일을 압축 해제함

### 3. data 폴더 생성
- 소스 루트(config.php와 같은 위치) 폴더에 data 폴더를 생성하고 권한을 777 로 설정

### 4. 브라우저에서 접속
- "그누보드5를 먼저 설치해주십시오." 안내가 나와야 정상

### 5. 그누보드5 설치하기 진행
- 라이센스 동의
- DB 접속 정보와 사용할 전체관리자 아이디/비번을 입력하고 진행

### 6. 나리야 코어 다운받고 적용하기
- [https://amina.co.kr/nariya/download](https://amina.co.kr/nariya/download)
- NB-1.2.17.zip 파일 압축을 풀어 bbs, extend, nariya 폴더를 그누보드 루트 폴더에 덮어쓰기함

### 7. BS4 베이직 테마 & 스킨팩 다운받고 적용하기
- [https://amina.co.kr/nariya/bs4_pds/필수-bs4-베이직-테마-스킨팩/](https://amina.co.kr/nariya/bs4_pds/%ED%95%84%EC%88%98-bs4-%EB%B2%A0%EC%9D%B4%EC%A7%81-%ED%85%8C%EB%A7%88-%EC%8A%A4%ED%82%A8%ED%8C%A9/)
- G55-BS4-Basic-Pack.zip 파일 압축을 풀어 그누보드 루트 폴더에 덮어쓰기함

### 8. 신)나리야 테스트 버전 다운받고 적용하기
- [https://amina.co.kr/nariya/notice/신-나리야-테스트-버전/](https://amina.co.kr/nariya/notice/%EC%8B%A0-%EB%82%98%EB%A6%AC%EC%95%BC-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EB%B2%84%EC%A0%84/)
- Nariya-0.1.zip 파일 압축을 풀어 그누보드 루트 폴더에 덮어쓰기함

### 9. 관리자 페이지 접속
- 설치가 끝나면 홈페이지에서 로그인 한 후 빨간색 톱니바퀴를 클릭하여 접속

### 10. 신)나리야 설정
- [관리자페이지 - 환경설정 - 테마설정] 에서 Nariya-Marigold 0.1a 선택
- [관리자페이지 - 나리야 빌더 - 나리야 설정] 에서 '나리야 설치하기' 클릭

### 11. 다모앙 테마 설치
- 다모앙 [Github](https://github.com/damoang/theme.git) 테마 다운로드
  - [파일(zip) 다운로드](https://github.com/damoang/theme/archive/refs/heads/main.zip)
- zip 압축 해제하여 그누보드 theme 폴더에 넣어줌
- [관리자페이지 - 환경설정 - 테마설정] 에서 다모앙 테마로 선택 (이름은 Nariya-Marigold 0.1a 로 표시되어 있음)

### 12. 짧은주소 설정
- 관리자페이지 - 환경설정 - 기본환경설정
    - 짧은주소
      - 숫자로 선택하고 사용하는 서버에 맞는 rewrite 적용
        - 참고: [공식 메뉴얼](https://sir.kr/manual/g5/286)

### 13. 스킨 설정
- 모두 기본스킨 : **(테마) basic** , 모바일스킨 : **PC-Skin** 또는 **basic** 으로 설정
- 관리자페이지 - 환경설정 - 기본환경설정
  - 기본환경
    - 최근게시물 스킨 : **(테마) basic** / 모바일 최근게시물 스킨 : **PC-Skin**
    - 검색 스킨 : **(테마) basic** / 모바일 검색 스킨 : **PC-Skin**
    - 접속자 스킨 : **(테마) basic** / 모바일 접속자 스킨 : **PC-Skin**
    - FAQ 스킨 : **(테마) basic** / 모바일 FAQ 스킨 : **PC-Skin**

  - 회원가입
    - 회원 스킨 : **(테마) basic** / 모바일 회원 스킨 : **PC-Skin**
> [!CAUTION]
> 로그인 화면이 필요하다면 위 **회원가입** 부분은 수정하지 않음  
> 다모앙이 SNS 로그인을 사용하기에 관리자 로그인이 풀렸을 때 일반 로그인을 할 수 있는 화면이 없음  

- 관리자페이지 - 게시판관리
  - 게시판관리
    - 모든 게시판 스킨 : **(테마) basic**
    - 모든 모바일 스킨 : **PC-Skin**

  - 1:1문의설정
    - 스킨 디렉토리 : **(테마) basic**
    - 모바일 스킨 디렉토리 : **basic**

  - 내용관리
    - 모든 컨텐츠 수정
      - 스킨 디렉토리 : **(테마) basic**
      - 모바일스킨 디렉토리 : **basic**



## 개발자

** 위 테스터 안내에서 11. 다모앙 테마 설치 부분만 다르고 나머지는 모두 같음 **

### 11. 다모앙 테마 설치
- 다모앙 [Github](https://github.com/damoang/theme.git) fork
- Fork 한 Repository 를 clone 하여 그누보드 theme 폴더에 넣어줌
- [관리자페이지 - 환경설정 - 테마설정] 에서 다모앙 테마로 선택 (이름은 Nariya-Marigold 0.1a 로 표시되어 있음)


## 문제해결
### 1. 만약 테마 관련 설정이 저장되지 않는다면
- theme 폴더 및 하위 폴더들을 쓰기 가능하게 권한 수정
### 2. 로그인이 풀렸을 때
- SNS 로그인을 사용할 수 없는 상황에서 로그인이 풀렸고 로그인 화면을 찾을 수 없을 때는  
DB g5_config 테이블의 cf_member_skin 과 cf_mobile_member_skin 값을 basic 으로 설정
- /adm 으로 접속 시도하면 로그인 후 이용해 달라는 안내 후 로그인 화면 나옴
